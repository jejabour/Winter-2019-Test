name: Dambreak Dashboard

description: Anaconda Enterprise deployment on AE. 

platforms:
  - linux-64

env-specs:
  earthsim:
    channels: 
      - https://conda.anaconda.org/conda-forge
      - https://ae.ers.erdc.dren.mil/repository/conda/erdc
      - https://conda.anaconda.org/pyviz/label/dev
      - https://conda.anaconda.org/pyviz/label/dev
      - defaults

  packages:
    - affine=2.2.1
    - alabaster=0.7.12
    - appdirs=1.4.3
    - appnope=0.1.0
    #- argarse=1.4.0
    - asn1crypto=0.24.0
    - atomicwrites=1.2.1
    - attrs=18.2.0
    - babel=2.6.0
    - backcall=0.1.0
    - beautifulsoup4=4.6.3
    - blas=1.1
    - bleach=3.0.2
    - blinker=1.4
    - blosc=1.14.4
    - bokeh=1.0.3
    - boost=1.66.0
    - boost-cpp=1.66.0
    - boto3=1.9.40
    - botocore=1.12.41
    - bottleneck=1.2.1
    - bzip2=1.0.6
    - ca-certificates=2018.10.15
    - cairo=1.14.12
    - cartopy=0.16.0
    - certifi=2018.10.15
    - cffi=1.11.5
    - cftime=1.0.2.1
    - chardet=3.0.4
    - click=7.0
    - click-plugins=1.0.4
    - cligj=0.5.0
    - cloudpickle=0.6.1
    - colorcet=1.0.0
    - coverage=4.5.1
    - coveralls=1.5.1
    - cryptography=2.3.1
    - cryptography-vectors=2.3.1
    - curl=7.62.0
    - cycler=0.10.0
    - cytoolz=0.9.0.1
    - dask=0.20.0
    - dask-core=0.20.0
    - datashader=0.6.9a1
    - datashape=0.5.4
    - decorator=4.3.0
    - descartes=1.1.0
    - diskcache=3.0.6
    - distributed=1.24.0
    - docopt=0.6.2
    - docutils=0.14
    #- earthsim=1.1.0a3.post2+gf4682c3
    - entrypoints=0.2.3
    #- es-workflows=0.1
    - expat=2.2.5
    - ffmpeg=3.2.4
    - filigree=0.2.2+pyviz.0
    - fiona=1.7.12
    - flask=1.0.2
    - fontconfig=2.13.0
    - freetype=2.8.1
    - freexl=1.0.5
    - freezegun=0.3.11
    - future=0.17.0
    - futures-compat=1.0
    - gazar=0.0.5
    - gdal=2.2.4
    - geojson=2.4.1
    - geopandas=0.3.0
    - geos=3.6.2
    - geotiff=1.4.2
    #- geoviews=1.6.0a3.post4+g6fa50ac
    - gettext=0.19.8.1
    - giflib=5.1.4
    - girder-client=2.4.0
    - glib=2.55.0
    - graphite2=1.3.12
    - gssha=7.12+pyviz.0
    - gsshapy=2.3.8
    - h5netcdf=0.6.2
    - h5py=2.8.0
    - harfbuzz=1.7.6
    #- harmonica=0.1a0+4.g488570e
    - hdf4=4.2.13
    - hdf5=1.10.1
    - heapdict=1.0.0
    #- holoviews=1.11.0a11.post26+g42eaad1d
    - hs_restclient=1.3.0
    - html5lib=0.9999999
    - icu=58.2
    - idna=2.7
    - imageio=2.4.1
    - imagesize=1.1.0
    - importlib_resources=1.0.2
    - ipykernel=5.1.0
    - ipython=7.1.1
    - ipython_genutils=0.2.0
    - ipywidgets=7.4.2
    - isodate=0.6.0
    - itsdangerous=1.1.0
    - jasper=1.900.1
    - jedi=0.13.1
    - jinja2=2.10
    #- Jinja2=2.10
    - jmespath=0.9.3
    - jpeg=9c
    - json-c=0.12.1
    - jsonschema=3.0.0a3
    - jupyter=1.0.0
    - jupyter_client=5.2.3
    - jupyter_console=6.0.0
    - jupyter_core=4.4.0
    - jupyterlab=0.35.3
    - jupyterlab_server=0.2.0
    - kealib=1.4.7
    - kiwisolver=1.0.1
    - krb5=1.16.2
    - lancet=0.9.0
    - libcurl=7.62.0
    - libcxx=7.0.0
    - libdap4=3.18.3
    - libedit=3.1.20170329
    - libffi=3.2.1
    - libfiligree=0.1+pyviz.0
    - libgdal=2.2.4
    - libgfortran=3.0.0
    - libiconv=1.15
    - libkml=1.3.0
    - libnetcdf=4.6.1
    - libpng=1.6.34
    - libpq=10.5
    - libsodium=1.0.16
    - libspatialindex=1.8.5
    - libspatialite=4.3.0a
    - libssh2=1.8.0
    - libtiff=4.0.9
    - libwebp=0.5.2
    - libxml2=2.9.8
    - libxslt=1.1.32
    - llvm-meta=7.0.0
    - llvmlite=0.25.0
    - locket=0.2.0
    - lxml=4.2.5
    - mapkit=1.2.2
    #- Markdown=3.0.1
    - markupsafe=1.1.0
    - matplotlib=2.2.2
    - mistune=0.8.4
    - mock=2.0.0
    - more-itertools=4.3.0
    - msgpack-python=0.5.6
    - multipledispatch=0.6.0
    - munch=2.3.2
    - nbconvert=5.3.1
    - nbformat=4.4.0
    - nbsmoke=0.2.7
    - ncurses=6.1
    - netcdf4=1.4.0
    - networkx=2.2
    - nmutils=v0.0.1
    - nodejs=9.11.1
    - notebook=5.5.0
    - numba=0.40.0
    - numexpr=2.6.8
    - numpy=1.14.5
    - oauthlib=2.1.0
    - olefile=0.46
    - openblas=0.2.20
    - opencv=3.4.1
    - openjpeg=2.3.0
    - openmp=7.0.0
    - openssl=1.0.2p
    - owslib=0.17.0
    - packaging=18.0
    - pandas=0.22.0
    - pandoc=2.3.1
    - pandocfilters=1.4.2
    - panel=0.3.1
    - pangaea=0.0.4
    #- param=1.8.2a1
    - parambokeh=0.2.3
    - paramnb=2.0.4
    - parso=0.3.1
    - partd=0.3.9
    - pbr=4.2.0
    - pcre=8.41
    - peewee=3.6.4
    - pexpect=4.6.0
    - pickleshare=0.7.5
    - pillow=5.2.0
    - pint=0.8.1
    - pip=18.1
    - pixman=0.34.0
    - pluggy=0.8.0
    - pony=0.7.1
    - poppler=0.61.1
    - poppler-data=0.4.9
    - proj4=4.9.3
    - prompt_toolkit=2.0.07
    - psutil=5.4.8
    - psycopg2=2.7.6
    - ptyprocess=0.6.0
    - py=1.7.0
    - pycparser=2.19
    - pyct=0.4.4a10
    - pyct-core=0.4.4a10
    - pyepsg=0.3.2
    - pyflakes=2.0.0
    - pygments=2.2.0
    - pyjwt=1.6.4
    - pyopenssl=18.0.0
    - pyparsing=2.3.0
    - pyproj=1.9.5.1
    - pyqt=5.6.0
    - pyrsistent=0.14.5
    - pysal=1.14.4.post2
    - pyshp=2.0.0
    - pysocks=1.6.8
    - pytables=3.4.4
    - pytest=3.10.0
    - pytest-cov=2.6.0
    - python=3.6
    - python-dateutil=2.7.5
    #- pytides=0.0.4
    - pytz=2018.7
    - pyviz_comms=0.7
    - pywavelets=1.0.1
    - pyyaml=3.13
    - pyzmq=17.1.2
    - qt=5.6.2
    - qtconsole=4.4.2
    - quest=2.6.1
    - rapidpy=2.6.0
    - rasterio=1.0.9
    - readline=7.0
    - requests=2.20.0
    - requests-oauthlib=1.0.0
    - requests-toolbelt=0.8.0
    - roamsADH=3.0.0a
    - roamsUTIL=3.0.0a
    - rtree=0.8.3
    - s3transfer=0.1.13
    - scikit-image=0.14.0
    - scipy=1.1.0
    - send2trash=1.5.0
    - setuptools=40.5.0
    - shapely=1.6.4
    - sip=4.18.1
    - six=1.11.0
    - snowballstemmer=1.2.1
    - snuggs=1.4.1
    - sortedcollections=1.0.1
    - sortedcontainers=2.0.5
    - sphinx=1.8.1
    - sphinx_rtd_theme=0.4.2
    - sphinxcontrib-websupport=1.1.0
    - sqlalchemy=1.2.13
    - sqlite=3.20.1
    - suds-jurko=0.6
    - tblib=1.3.2
    - terminado=0.8.1
    - testpath=0.3.1
    - timezonefinder=3.2.1
    - tk=8.6.8
    - toolz=0.9.0
    - tornado=5.1.1
    - traitlets=4.3.2
    - uit=0.1.0
    - ulmo=0.8.4
    - urllib3=1.23
    - utm=0.4.2
    - wcwidth=0.1.7
    - webencodings=0.5.1
    - werkzeug=0.14.1
    - wheel=0.32.2
    - widgetsnbextension=3.4.2
    - wrapt=1.10.11
    - wrf-python=1.2.0
    - x264=20131218
    - yaml=0.1.7
    - zeromq=4.2.5
    - zict=0.1.3
    - zlib=1.2.11

commands: 
  notebook_unix:
    env_spec: earthsim
    unix: "chmod + x ./script.sh && ./script.sh"
    supports_http_options: true

  notebook:
    description: First command for the notebook?
    env_spec: earthsim
    unix: panel serve ./es-workflows/notebooks/deploy_test.ipynb
    supports_http_options: true

variables:
  MPLBACKEND: Agg





